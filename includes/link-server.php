<?php

include_once RY_WEZI_PLUGIN_DIR . 'includes/ry-global/abstract-link-server.php';

final class RY_WEZI_LinkServer extends RY_Abstract_Link_Server
{
    protected static $_instance = null;

    protected $plugin_slug = 'ry-woocommerce-ezpay-invoice';

    public static function instance(): RY_WEZI_LinkServer
    {
        if (null === self::$_instance) {
            self::$_instance = new self();
        }

        return self::$_instance;
    }

    protected function get_base_info(): array
    {
        return [
            'plugin' => RY_WEZI_VERSION,
            'php' => PHP_VERSION,
            'wp' => get_bloginfo('version'),
            'wc' => WC_VERSION,
        ];
    }

    protected function get_user_agent()
    {
        return sprintf(
            'RY_WEZI %s (WordPress/%s WooCommerce/%s)',
            RY_WEZI_VERSION,
            get_bloginfo('version'),
            WC_VERSION,
        );
    }
}
